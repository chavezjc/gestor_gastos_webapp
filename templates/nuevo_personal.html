{% extends "base.html" %}

{% block title %}Agregar Personal - Gestor de Gastos{% endblock %}

{% block content %}
    <article>
        <h1 style="text-align: center;">Añadir Nueva Persona al Staff</h1>

        <form method="POST" action="{{ url_for('crear_personal') }}">

            <div class="grid">
                <label for="nombre_completo">
                    Nombre Completo
                    <input type="text" id="nombre_completo" name="nombre_completo" placeholder="Ej: Juan Pérez" required>
                </label>
                <label for="documento_identidad">
                    Documento de Identidad
                    <input type="text" id="documento_identidad" name="documento_identidad" placeholder="Ej: 1234567" required>
                </label>
            </div>

            <label for="email">
                Email (Opcional, si usa Google Login)
                <input type="email" id="email" name="email" placeholder="ejemplo@srlpunto.com">
            </label>

            <label for="cargo">
                Cargo (Opcional)
                <input type="text" id="cargo" name="cargo" placeholder="Ej: Administrador">
            </label>

            {% if current_user.rol == 'Administrador' %}
                <label for="rol">
                    Rol
                    <select id="rol" name="rol"> {# <-- ASEGÚRATE DE QUE 'required' NO ESTÉ AQUÍ #}
                        <option value="">Sin Rol</option> {# Opción para "Sin Rol" #}
                        <option value="Contador">Contador</option>
                        <option value="Administrador">Administrador</option>
                    </select>
                </label>
            {% else %}
                <input type="hidden" name="rol" value="">
            {% endif %}

            <fieldset>
                <label for="activo">
                    <input type="checkbox" id="activo" name="activo" value="true" role="switch" checked>
                    Activo
                </label>
            </fieldset>

            <footer style="display: flex; justify-content: flex-end; gap: 1rem; margin-top: 1rem;">
                <a href="{{ url_for('listar_personal') }}" role="button" class="secondary outline">Cancelar</a>
                <button type="submit">Guardar Persona</button>
            </footer>
        </form>
    </article>
{% endblock %}